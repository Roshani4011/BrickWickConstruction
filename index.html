<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrickWick Construction</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
     <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="partials/header.css">
    <link rel="stylesheet" href="partials/footer.css">
    
    <style>
        /* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Arial', sans-serif;
}

body {
    overflow-x: hidden;
    
    line-height: 1.6;
}
body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-image: url('pictures/newbg.jpeg');
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
}
a {
    text-decoration: none;
    color: inherit;
}
/* Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
    position: relative;
    padding: 0; /* Remove container padding */
}

/* Hero Section with Parallax */
/* Hero Section with Parallax */
.parallax-container {
    justify-content: space-between; /* Distribute space between left and right */

    height: 100vh;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    background-image: url('your-hero-image.jpg');
}


.hero-content-left {
    color: white;
    text-align: left;
    max-width: 60%; /* Adjust as needed */
    padding-left: 5%; /* Add some padding from the left edge */
}

.hero-content-left h1 {
    font-size: 3.2rem; /* Slightly increased */
    margin-bottom: 10px;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.6); /* Enhanced shadow */
    font-weight: 700; /* Bold font weight */
}

.hero-content-left h2 {
    font-size: 2rem; /* Slightly increased */
    margin-bottom: 25px; /* More space */
    font-weight: normal;
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
    opacity: 0.9; /* Slight transparency */
}

.hero-stats {
    display: flex;
    gap: 30px; /* Space between the stat items */
    margin-bottom: 35px; /* Increased bottom margin */
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
}

.hero-stats .stat {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 15px;
    border-radius: 20px;
    transition: transform 0.3s ease;
}

.hero-stats .stat:hover {
    transform: translateY(-3px); /* Subtle lift effect on hover */
}

.hero-stats .stat i { /* Style the Font Awesome icons */
    font-size: 1.5rem; /* Adjust icon size */
    color: #e53935 ; /* Match button color */
}

.hero-stats .stat span {
    font-size: 1.1rem;
    font-weight: 500;
}

.get-free-quote-btn {
    background-color:#e53935 ; /* Example orange color */
    color: white;
    border: none;
    padding: 15px 30px;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 5px;
    transition: all 0.3s ease;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.get-free-quote-btn:hover {
    background-color: #e53935; /* Slightly lighter shade */
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
}

.get-in-touch-card {
    background-color: white;
    color: #333;
    padding: 35px 30px;
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    width: 350px; /* Adjust card width */
    text-align: center;
    margin-right: 5%; /* Add some margin from the right edge */
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.get-in-touch-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
}

.get-in-touch-card h3 {
    font-size: 1.8rem;
    margin-bottom: 25px;
    color: #333;
    position: relative;
    padding-bottom: 10px;
}

.get-in-touch-card h3:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 50px;
    height: 3px;
    background-color:#e53935;
}

.get-in-touch-card input[type="text"], 
.get-in-touch-card input[type="tel"], 
.get-in-touch-card input[type="number"] {
    width: 100%;
    padding: 14px;
    margin-bottom: 18px;
    border: 1px solid #ddd;
    border-radius: 6px;
    box-sizing: border-box;
    font-size: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.get-in-touch-card input:focus {
    border-color: #e53935;
    outline: none;
    box-shadow: 0 0 0 3px rgba(229, 57, 53, 0.2);
}

.get-in-touch-card button[type="submit"] {
    background-color: #e53935; /* Same color */
    color: white;
    border: none;
    padding: 16px 30px;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 6px;
    width: 100%;
    transition: all 0.3s ease;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.get-in-touch-card button[type="submit"]:hover {
    background-color: #f44336; /* Slightly lighter shade */
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
}

/* Media query for responsiveness */
@media screen and (max-width: 768px) {
    .parallax-container {
        flex-direction: column;
        padding: 40px 20px;
        height: auto;
        min-height: 100vh;
    }
    
    .hero-content-left {
        max-width: 100%;
        padding-left: 0;
        margin-bottom: 40px;
        text-align: center;
    }
    
    .hero-stats {
        justify-content: center;
    }
    
    .get-in-touch-card {
        width: 100%;
        max-width: 400px;
        margin-right: 0;
    }
}

.overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0); /* Changed from 0.6 to 0 */
}

.btn {
    display: inline-block;
    padding: 12px 30px;
    background-color: #e53935; /* Red */
    color: #fff;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn:hover {
    background-color: #e53935; /* Darker Red */
    transform: translateY(-2px);
}

/* Content Section */
.section {
    background-color:rgb(255, 255, 255);
    padding: 80px 20px;
    position: relative;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    /* No margin bottom - sections will touch unless a divider is placed between them */
}

.content-section {
    background-color:rgb(255, 255, 255) ; /* or any color */
    padding: 60px 20px;
    position: relative;
    z-index: 2;
  }

.section-title {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 50px;
    position: relative;
    padding-bottom: 20px;
}

.section-title::after {
    content: '';
    position: absolute;
    width: 80px;
    height: 3px;
    background-color: #e53935; /* Red */
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
}

/* Services Section */
.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
}

.service-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.service-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
}

.service-img {
    height: 200px;
    overflow: hidden;
}

.service-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.service-card:hover .service-img img {
    transform: scale(1.1);
}

.service-content {
    padding: 20px;
}

.service-content h3 {
    margin-bottom: 10px;
    color: #222;
}

.service-content p {
    color: #666;
    margin-bottom: 15px;
}



/*     our specialization      */
/* Styles for the parallax container */
/* Styles for the parallax container */


/* Styles for the wrapper */
.specialization-wrapper {
    max-width: 800px; /* Adjust as needed */
    width: 90%;
    text-align: center;
    z-index: 10;
    border-radius: 10px;
    padding: 50px 20px; /* Adjust vertical padding for the wrapper */
    margin: 0 auto;
}

/* Styles for the header */
.specialization-header {
    margin-bottom: 30px;
}

.section-title {
    color: #fff;
    font-size: 36px;
    margin-bottom: 15px;
}

.section-tagline {
    color: #eee;
    font-size: 16px;
}

/* Styles for the card (Exact visual match) */
.specialization-card {
    background-color: #fff;
    color: #333;
    padding: 25px; /* Consistent padding all around */
    border-radius: 0px; /* More pronounced rounded corners */
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); /* Subtle box shadow */
    text-align: center; /* Center all content within the card */
    max-width: 400px; /* Specific max-width to match the visual */
    margin: 30px auto; /* Center the card with vertical margin */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px; /* Consistent gap between elements */
}

.image-container {
    margin-bottom: 20px; /* White space below the image */
    flex-shrink: 0;
    width: 105%; /* Make the image take up most of the card's width */
    height: auto; /* Maintain aspect ratio */
    overflow: hidden;
   
}

.image-container img {
    display: block;
    width: 100%;
    height: auto; /* Maintain aspect ratio */
    object-fit: cover; /* Ensure the image covers the container */
}

.content-container {
    padding: 0 20px; /* Horizontal padding for the text */
}

.content-title {
    color: #FF7F27;
    font-size: 22px; /* Specific title size */
    margin-bottom: 10px;
}

.content-description {
    color: #555;
    margin-bottom: 15px;
    font-size: 0.9rem;
    line-height: 1.5;
}

.learn-more {
    color: #FF7F27;
    text-decoration: none;
    font-weight: bold;
    font-size: 0.85rem;
}

    /* New CSS for the category filter and animation */
    .category-filters {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .category-filter {
            padding: 8px 15px;
            margin: 0 5px 10px;
            background-color: #f5f5f5;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .category-filter:hover, .category-filter.active {
            background-color: #e8e8e8;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Project Section */
        .projects-container {
            position: relative;
            overflow: hidden;
        }

        .projects-carousel {
            display: flex;
            transition: transform 0.5s ease;
            flex-wrap: wrap;
        }

        .project-card {
            flex: 0 0 calc(33.333% - 20px);
            margin: 0 10px 20px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            opacity: 0;
            transform: translateY(-50px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .project-card.show {
            opacity: 1;
            transform: translateY(0);
        }

        .project-img {
            height: 300px;
        }

        .project-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .project-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            color: #fff;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .project-card:hover .project-overlay {
            transform: translateY(0);
        }

        .project-overlay h3 {
            margin-bottom: 5px;
        }
        
        .carousel-btn {
            display: none; /* Hide the carousel buttons */
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            .project-card {
                flex: 0 0 calc(100% - 20px);
            }
            
            .category-filter {
                margin-bottom: 8px;
            }
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .project-card {
                flex: 0 0 calc(50% - 20px);
            }
        }

/* Why Choose Us Section */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    margin-top: 20px;
}

.feature-card {
    text-align: center;
    padding: 30px 20px;
    border-radius: 8px;
    background-color: #f9f9f9;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-10px);
}
.feature-icon {
    font-size: 2.5rem;
    color: #e53935; /* Red */
    margin-bottom: 20px;
}
.feature-card h3 {
    margin-bottom: 15px;
}
/* Package Section Styles - Enhanced and Replicated */
#packages-section {
    padding: 50px 0;
    background-color: #f9f9f9;
}

.package-tabs {
    display: flex;
    justify-content: center;
    margin-bottom: 30px;
}
.package-tab-button {
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 15px 30px;
    margin: 0 10px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    border-radius: 5px;
    font-weight: 600;
}
.package-tab-button.active,
.package-tab-button:hover {
    background-color: #e53935;
    color: #fff;
    border-color: #e53935;
}
.package-content {
    display: flex; /* Flex layout for sidebar and main content */
    background-color: #fff;
    border: 1px solid #ddd;
    padding: 30px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
.package-sidebar {
    width: 250px;
    border-right: 1px solid #eee;
    padding-right: 20px;
    margin-right: 20px;
}
.package-sidebar ul {
    list-style: none;
    padding: 0;
}
.package-sidebar li {
    padding: 10px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    display: flex;
    align-items: center;
}
.package-sidebar li i {
    margin-right: 10px;
    color:white;
}
.package-sidebar li.active,
.package-sidebar li:hover {
    background-color: #e53935;
    color: white;
    border-radius: 5px;
}
.package-main-content {
    flex: 1;
}
.package-main-content h2 {
    font-size: 1.8rem;
    margin-bottom: 20px;
    color: #333;
    font-weight: bold;
}
.package-main-content ul {
    list-style-type: disc;
    margin-left: 20px;
}
.package-main-content li {
    margin-bottom: 10px;
    color: #666;
}
/* Parallax Divider */
/* Parallax Divider */
.parallax-divider {
    height: 300px;
    position: relative;
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    background-image: url('your-parallax-image.jpg');
}
/* Contact Section */
.contact {
    background-color: #f9f9f9;
    text-align: center;
    padding: 80px 0;
}
.contact h2 {
    margin-bottom: 20px;
}
.contact p {
    margin-bottom: 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}
.contact-button {
    display: inline-block;
    padding: 12px 30px;
    background-color: #e53935; /* Red */
    color: #fff;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}
.contact-button:hover {
    background-color: #d32f2f; /* Darker Red */
}
.contact-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1001;
    justify-content: center;
    align-items: center;
}
.contact-form {
    background-color: #fff;
    padding: 40px;
    border-radius: 8px;
    width: 90%;
    max-width: 500px;
    position: relative;
}
.close-popup {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 24px;
    cursor: pointer;
}
.form-group {
    margin-bottom: 15px;
}
.form-group input,
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
}
.form-group textarea {
    height: 120px;
    resize: vertical;
}


/* Mobile Responsive Styles */
@media (max-width: 768px) {
  

    .close-menu {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 24px;
        cursor: pointer;
    }
    .hero-content h1 {
        font-size: 2.2rem;
    }
    .section-title {
        font-size: 2rem;
    }
    .project-card {
        flex: 0 0 calc(100% - 20px);
    }
    .package-content {
        flex-direction: column; /* Stack sidebar and content on smaller screens */
    }
    .package-sidebar {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #eee;
        padding-right: 0;
        margin-right: 0;
        margin-bottom: 20px;
    }
}


@media (max-width: 576px) {
    .hero-content h1 {
        font-size: 1.8rem;
    }

    .hero-content p {
        font-size: 1rem;
    }

    .btn {
        padding: 10px 20px;
    }

    .section {
        padding: 60px 0;
    }

    .contact-form {
        padding: 30px 20px;
    }
}
#thankYouModal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white; /* Explicitly set to white */
    padding: 20px;
    border: 1px solid #ccc;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1001; /* Higher z-index to stay on top */
}
#closeModal {
    cursor: pointer;
}
#modalOverlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
    z-index: 1000; /* Lower z-index than the modal */
}
/* New Section Styles */
#our-usp, #how-we-work, #tech-advancement, #cost-estimator, #what-clients-say {
    padding: 80px 0;
    background: linear-gradient(135deg, #757070, #695858);
    margin-bottom: 0px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid #ddd;
}


/* USP Section Styles */
/* USP Section Styles */
#our-usp {
    padding: 60px 0;
    background: #f9f9f9;
    margin-bottom: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.usp-content-wrapper {
    display: flex;
    align-items: center;
    gap: 40px;
}

/* Image Container with Orange Accent - Adjusted to match screenshot */
.usp-image-container {
    position: relative;
    width: 50%;
    height: auto;
    margin-left: 10px;
}

.usp-image-container .image-layer {
    position: relative;
    z-index: 2;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.usp-image-container img {
    display: block;
    width: 100%;
    height: auto;
    aspect-ratio: 4/3;
    object-fit: cover;
    vertical-align: middle;
}

/* Adjusted orange rectangle to be thinner and further from image */
.usp-image-container .orange-rectangle {
    position: absolute;
    bottom: -20px;
    right: -20px;
    width: calc(100% - 30px);
    height: calc(100% - 30px);
    background-color: transparent;
    z-index: 1;
    border: 3px solid #e53935;
}

/* USP Content Styles */
.usp-points {

    width: 50%;
            
}

.section-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 10px;
    color: #333;
    text-align: center;
    position: relative;
}

.section-title:after {
    content: '';
    display: block;
    width: 50px;
    height: 3px;
    background-color: #e53935;
    margin: 10px auto 0;
}

.usp-intro {
    font-size: 1.1rem;
    color: #666;
    margin-bottom: 30px;
    text-align: center;
}

/* USP Grid Layout */
.usp-grid {
    list-style: none;
    padding: 0;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.usp-item {
    display: flex;
    align-items: flex-start;
    background-color: #fff;
    border-radius: 5px;
    padding: 15px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.usp-icon-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-right: 15px;
    flex-shrink: 0;
}

.usp-icon {
    color: #e53935;
    font-size: 20px;
}

.usp-text {
    flex: 1;
}

.usp-item h3 {
    margin: 0 0 3px 0;
    font-size: 1rem;
    font-weight: 600;
    color: #333;
}

.usp-item p {
    margin: 0;
    font-size: 0.85rem;
    color: #666;
    line-height: 1.4;
}

/* Responsive Adjustments */
@media (max-width: 992px) {
    .usp-content-wrapper {
        flex-direction: column;
    }
    
    .usp-image-container,
    .usp-points {
        width: 100%;
    }
    
    .usp-image-container {
        margin-bottom: 40px;
        margin-left: 0;
    }
    
    .section-title,
    .usp-intro {
        text-align: center;
    }
}

@media (max-width: 768px) {
    .usp-grid {
        grid-template-columns: 1fr;
    }
    
    .usp-image-container .orange-rectangle {
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        bottom: -15px;
        right: -15px;
    }
}


#how-we-work,
#tech-advancement,
#cost-estimator,
#what-clients-say {
    padding: 80px 0;
    background: white;
    margin-bottom: 0px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid #ddd;
}

/* TECH ENHANCEMENT */
/* TECH ENHANCEMENT */
#tech-advancement {
    padding: 60px 0;
    text-align: center;
    font-family: Arial, sans-serif;
    background: white;
}

.section-description {
    max-width: 800px;
    margin: 0 auto 40px;
    text-align: center;
    color: #555;
    line-height: 1.6;
}

.tech-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
}

.tech-item {
    flex: 1;
    min-width: 300px;
    max-width: 350px;
    background-color: #fff5e6;
    padding: 30px 20px;
    border-radius: 5px;
    text-align: center;
    transition: all 0.3s ease;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

.tech-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.tech-icon {
    margin-bottom: 20px;
}

.tech-icon i {
    font-size: 50px;
    color: #e53935;
}

.tech-item h3 {
    font-size: 24px;
    margin-bottom: 15px;
    color: #333;
}

.tech-item p {
    color: #555;
    margin-bottom: 25px;
    line-height: 1.6;
    min-height: 100px;
}


@media (max-width: 992px) {
    .tech-grid {
        flex-direction: column;
        align-items: center;
    }
    
    .tech-item {
        width: 100%;
        max-width: 500px;
        margin-bottom: 30px;
    }
    
    .tech-item p {
        min-height: auto;
    }
}


/* how we work   */
/* How We Work Section Styling */
.how-we-work-section {
      padding: 60px 0;
      text-align: center;
      background-color: #fff5e6; /* Explicit white background for section */
    }
    
    .section-title {
      font-size: 38px;
      font-weight: 700;
      color: #222;
      margin-bottom: 20px;
    }
    
   
    .methodology-subtitle {
      font-size: 22px;
      color: #444;
      margin-bottom: 40px;
      font-weight: 500;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      padding: 0 15px; /* Add padding here instead of container */
    }
    
    .work-steps {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
      margin-bottom: 40px;
      padding: 0 15px; /* Add horizontal padding */
    }
    
    .step {
      width: calc(16.66% - 5px);
      padding: 20px 10px;
      background-color: white;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .step.active {
      background-color: #e53935;
      color: white;
    }
    
    .step h3 {
      font-size: 16px;
      font-weight: 600;
      line-height: 1.4;
    }
    
    .step-content {
      display: none;
      max-width: 800px;
      margin: 0 auto 30px;
      padding: 0 15px; /* Add horizontal padding */
    }
    
    .step-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    .step-image {
  width: 350px; /* Reduced from 500px */
  height: 220px; /* Reduced from 320px */
  margin: 30px auto;
  overflow: hidden;
}

.step-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 7px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    /* Responsive styles */
    @media (max-width: 992px) {
      .step {
        width: calc(33.33% - 5px);
        margin-bottom: 5px;
      }
    }
    
    @media (max-width: 768px) {
      .section-title {
        font-size: 34px;
      }
      
      .methodology-subtitle {
        font-size: 18px;
      }
      
      .step {
        width: calc(50% - 5px);
      }
    }
    
    @media (max-width: 576px) {
      .section-title {
        font-size: 30px;
      }
      
      .step {
        width: 100%;
        margin-bottom: 5px;
      }
    }

    /* =========================================
   COST ESTIMATOR - OPTIMIZED STYLES
   Maintains original design, improved code quality
   ========================================= */

/* ESTIMATOR - Main Layout */
.estimator-layout {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 40px;
  flex-wrap: wrap;
  margin-bottom: 40px;
  padding: 30px;
  border-radius: 12px;
}

.estimator-image {
  flex: 0 0 450px;
}

.estimator-image img {
  width: 100%;
  max-width: 450px;
  border-radius: 12px;
  height: auto;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  transition: transform 0.3s ease;
}

.estimator-image img:hover {
  transform: scale(1.03);
}

.estimator-info {
  flex: 1;
  min-width: 300px;
  padding: 15px 20px;
  background-color: #f8f9fa;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.estimator-info p {
  font-size: 1.25rem;
  margin-bottom: 25px;
  color: #333;
  line-height: 1.6;
  font-weight: 500;
}

.estimator-info .highlight {
  color: #e53935;
  font-weight: 600;
}

.estimator-info .subtext {
  font-size: 1rem;
  color: #666;
  margin-top: 10px;
  font-style: italic;
}

.steps-list {
  margin-bottom: 25px;
  padding-left: 20px;
}

.steps-list li {
  margin-bottom: 10px;
  color: #444;
  font-size: 1.1rem;
}

/* Button Styling - Open Estimator */
button#open-estimator-btn {
  background-color: #e53935;
  color: #fff;
  padding: 14px 28px;
  font-size: 1.1rem;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 6px 12px rgba(229, 57, 53, 0.3);
  position: relative;
  overflow: hidden;
}

button#open-estimator-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.7s;
}

button#open-estimator-btn:hover {
  background-color: #d32f2f;
  transform: translateY(-3px);
  box-shadow: 0 8px 15px rgba(229, 57, 53, 0.4);
}

button#open-estimator-btn:hover::before {
  left: 100%;
}

button#open-estimator-btn:active {
  transform: translateY(-1px);
}

/* Popup Overlay */
.popup-overlay {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  overflow-y: auto;
  backdrop-filter: blur(4px);
  transition: opacity 0.4s ease;
}

/* Popup Content */
.popup-content {
  background: #fff;
  margin: 4% auto;
  padding: 35px;
  border-radius: 16px;
  width: 90%;
  max-width: 800px;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
  animation: popIn 0.5s forwards;
}

@keyframes popIn {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Popup Header */
.popup-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  border-bottom: 2px solid #f0f0f0;
  padding-bottom: 15px;
}

.popup-header h3 {
  font-size: 1.8rem;
  margin: 0;
  color: #2d2d2d;
  font-weight: 600;
}

/* Close Button */
.close-btn {
  font-size: 2rem;
  background: none;
  border: none;
  color: #888;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  line-height: 1;
  padding: 0;
}

.close-btn:hover {
  color: #333;
  background-color: #f5f5f5;
  transform: rotate(90deg);
}

/* Form Paragraph */
.popup-content > p {
  font-size: 1.05rem;
  color: #555;
  margin-bottom: 25px;
  line-height: 1.5;
}

/* Form Row */
.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 25px;
  margin-bottom: 22px;
}

/* Form Group */
.form-group {
  flex: 1;
  min-width: 220px;
}

.form-group label {
  font-weight: 500;
  display: block;
  margin-bottom: 8px;
  color: #444;
}

/* Input & Select Styles */
.form-group input,
.form-group select {
  width: 100%;
  padding: 14px;
  border-radius: 8px;
  border: 1px solid #ddd;
  font-size: 1rem;
  transition: all 0.25s ease;
  background-color: #f9f9f9;
  box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus {
  outline: none;
  border-color: #007bff;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
  background-color: #fff;
}

.form-group input::placeholder {
  color: #aaa;
}

/* Error States */
.input-error {
  border-color: #f44336 !important;
  background-color: #ffebee !important;
}

.error-message {
  color: #f44336;
  font-size: 0.85rem;
  margin-top: 5px;
  display: flex;
  align-items: center;
  gap: 5px;
  font-weight: 500;
}

.error-message::before {
  content: "⚠";
  font-size: 1rem;
}

/* Submit Button */
form button,
#calculate-estimate-btn {
  background-color: #e53935;
  color: white;
  padding: 14px 28px;
  font-size: 1.1rem;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 15px;
  transition: all 0.3s ease;
  width: 100%;
  box-shadow: 0 6px 12px rgba(0, 123, 255, 0.2);
}

form button:hover:not(:disabled),
#calculate-estimate-btn:hover:not(:disabled) {
  background-color: #e93834;
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0, 123, 255, 0.3);
}

form button:active:not(:disabled),
#calculate-estimate-btn:active:not(:disabled) {
  transform: translateY(0);
}

form button:disabled,
#calculate-estimate-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.6;
  }
  50% {
    opacity: 0.8;
  }
}

/* Thank You Modal */
.thank-you-box {
  background: #fff;
  margin: 10% auto;
  padding: 40px;
  border-radius: 16px;
  text-align: center;
  max-width: 500px;
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
  animation: popIn 0.5s forwards;
}

.thank-you-box h2 {
  color: #4CAF50;
  font-size: 2.2rem;
  margin-bottom: 15px;
  font-weight: 700;
}

.thank-you-box p {
  color: #555;
  margin-bottom: 20px;
  font-size: 1.1rem;
  line-height: 1.5;
}

#cost-result {
  font-size: 1.5rem;
  font-weight: 600;
  color: #007bff;
  background-color: #f0f7ff;
  padding: 18px;
  border-radius: 10px;
  margin: 25px 0;
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.1);
  border-left: 4px solid #007bff;
}

.thank-you-box button,
#closeModal {
  background-color: #4CAF50;
  color: white;
  padding: 14px 28px;
  font-size: 1.1rem;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 6px 12px rgba(76, 175, 80, 0.2);
}

.thank-you-box button:hover,
#closeModal:hover {
  background-color: #3d9440;
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(76, 175, 80, 0.3);
}

.thank-you-box button:active,
#closeModal:active {
  transform: translateY(0);
}

/* Focus Styles for Accessibility */
button:focus-visible,
input:focus-visible,
select:focus-visible {
  outline: 2px solid #007bff;
  outline-offset: 2px;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .estimator-layout {
    flex-direction: column;
    text-align: center;
    padding: 25px 15px;
  }

  .estimator-image {
    flex: 0 0 auto;
    width: 100%;
  }

  .section-title::after {
    left: 50%;
    transform: translateX(-50%);
  }

  .popup-content {
    padding: 25px 20px;
    margin: 5% auto;
    width: 95%;
  }

  .popup-header h3 {
    font-size: 1.4rem;
  }

  .form-row {
    gap: 15px;
  }

  .form-group {
    min-width: 100%;
  }

  .thank-you-box {
    padding: 30px 20px;
    margin: 15% auto;
    width: 90%;
  }

  .thank-you-box h2 {
    font-size: 1.8rem;
  }
}

@media (max-width: 480px) {
  .estimator-info p {
    font-size: 1.1rem;
  }

  .steps-list li {
    font-size: 1rem;
  }

  button#open-estimator-btn {
    width: 100%;
    padding: 12px 20px;
  }

  .popup-header h3 {
    font-size: 1.2rem;
  }

  .close-btn {
    width: 35px;
    height: 35px;
    font-size: 1.5rem;
  }

  .popup-content {
    padding: 20px 15px;
  }

  .form-group input,
  .form-group select {
    padding: 12px;
    font-size: 0.95rem;
  }

  form button,
  #calculate-estimate-btn {
    padding: 12px 20px;
    font-size: 1rem;
  }

  .thank-you-box h2 {
    font-size: 1.6rem;
  }

  .thank-you-box p {
    font-size: 1rem;
  }

  #cost-result {
    font-size: 1.3rem;
    padding: 15px;
  }
}

/* Smooth Scrolling for Modal */
.popup-overlay {
  scroll-behavior: smooth;
}

/* Prevent Body Scroll When Modal Open */
body.modal-open {
  overflow: hidden;
}

/* Loading Animation Enhancement */
@keyframes buttonLoading {
  0% {
    background-position: 200% center;
  }
  100% {
    background-position: -200% center;
  }
}

form button:disabled,
#calculate-estimate-btn:disabled {
  background: linear-gradient(90deg, #e53935 0%, #ff6b6b 50%, #e53935 100%);
  background-size: 200% auto;
  animation: buttonLoading 2s linear infinite;
}


/*testimonial */

/* Testimonial Carousel */
.testimonials-carousel {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
 }

 .testimonials-wrapper {
  width: 100%;
  overflow: hidden;
  padding: 20px 0;
 }

 .testimonials-track {
  display: flex;
  transition: transform 0.5s ease;
 }

 /* Testimonial Cards */
 .testimonial-card {
  min-width: calc(100% / 3);
  padding: 0 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  box-sizing: border-box;
 }

 .client-image {
  width: 160px; /* Increased width */
  height: 160px; /* Increased height */
  border-radius: 50%;
  overflow: hidden;
  margin-bottom: 15px;
  /* border: 5px solid #f0f0f0; Remove the white border */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
 }

 .client-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
 }

 .client-name {
  font-size: 20px;
  font-weight: 700;
  margin: 0 0 5px;
  color: #333;
 }

 .client-location {
  font-size: 16px;
  color: #666;
  margin: 0 0 10px;
 }

 .rating {
  margin-bottom: 15px;
 }

 .star {
  color: #FFD700;
  font-size: 18px;
 }

 .testimonial-text {
  font-size: 14px;
  line-height: 1.6;
  color: #555;
  max-width: 90%;
  margin: 0 auto;
 }

 /* Navigation Arrows */
 .nav-arrow {
  width: 40px;
  height: 40px;
  background-color: rgba(0, 0, 0, 0.3);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
  transition: background-color 0.3s ease;
 }

 .nav-arrow:hover {
  background-color: rgba(0, 0, 0, 0.5);
 }

 .prev-arrow {
  left: -20px;
 }

 .next-arrow {
  right: -20px;
 }

 /* Responsive Design */
 @media (max-width: 992px) {
  .testimonial-card {
   min-width: 50%;
  }
 }

 @media (max-width: 768px) {
  .testimonial-card {
   min-width: 100%;
  }

  .nav-arrow {
   width: 35px;
   height: 35px;
  }

  .prev-arrow {
   left: -10px;
  }

  .next-arrow {
   right: -10px;
  }
 }
/* WhatsApp Icon */
.whatsapp-icon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: #25D366;
    color: white;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 30px;
    z-index: 1000;
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.whatsapp-icon:hover {
    background-color: #128C7E;
    transform: scale(1.1);
    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
}
@keyframes pulse {
    0% { transform: scale(1); }
    100% { transform: scale(1); }
}
.whatsapp-icon.pulse {
    animation: pulse 2s infinite;
}
@media (max-width: 768px) {
    .whatsapp-icon {
        width: 50px;
        height: 50px;
        font-size: 25px;
        bottom: 10px;
        right: 10px;
    }
}

/* contact us section  */
 /* New contact section with background */
 /* Contact section */
      /* Contact section */
          /* Target only this specific contact section */
    #contact-us.section {
      display: flex;
      flex-wrap: wrap;
      padding: 60px 20px;
      background-color: #fff;
      align-items: center;
      justify-content: center;
      gap: 30px;
      position: relative;
    }
    
    #contact-us .curve-shape {
      position: relative;
      flex: 1;
      min-width: 300px;
      max-width: 600px;
      height: 400px;
      border-radius: 60px 10px 60px 10px;
      overflow: hidden;
    }
    
    #contact-us .curve-shape::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-image: url('pictures/contact-vector.jpeg');
      background-size: cover;
      background-position: center;
      z-index: 1;
    }
    
    #contact-us .curve-shape::after {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.3); /* Lighter overlay */
      z-index: 2;
    }
    
    /* Target only the container in this specific section */
    #contact-us .container {
      flex: 1;
      max-width: 600px;
      min-width: 300px;
      padding: 40px;
    }
    
    #contact-us .contact-content h2 {
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    
    #contact-us .contact-content p {
      font-size: 1.1rem;
      color: #444;
      margin-bottom: 30px;
    }
    
    /* Contact details now in the container, not over the image */
    #contact-us .contact-details {
      margin-bottom: 30px;
    }
    
    #contact-us .contact-details h3 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #333;
    }
    
    #contact-us .contact-details p {
      margin: 8px 0;
      font-size: 1rem;
      color: #555;
    }
    
    #contact-us .contact-details i {
      margin-right: 10px;
      color: #e53935;
    }
    
    #contact-us .contact-button-container {
      margin-top: 20px;
    }
    
    #contact-us .contact-button {
      background-color: #e53935;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 50px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 20px rgba(229, 57, 53, 0.3);
      position: relative;
      z-index: 5;
    }
    
    #contact-us .contact-button:hover {
      background-color: #d32f2f;
      transform: scale(1.05);
    }
    
    @media (max-width: 768px) {
      #contact-us.section {
        flex-direction: column;
      }
      
      #contact-us .curve-shape {
        height: 300px;
        border-radius: 30px;
      }
    }
    
    </style>
    
</head>
<body>
    <div id="header-placeholder"></div>

    <section class="parallax-container">
        <div class="hero-content-left">
            <h1>Stress-Free Home Building: Because You</h1>
            <h2>Deserve a Smooth Construction Journey</h2>
            <div class="hero-stats">
                <div class="stat"><i class="fa-solid fa-house-chimney"></i> <span>600+ Projects</span></div>
                <div class="stat"><i class="fa-solid fa-circle-check"></i> <span>450+ Quality Checks</span></div>
                <div class="stat"><i class="fa-solid fa-clock"></i> <span>On-Time Delivery</span></div>
            </div>
            <button class="get-free-quote-btn">Get Free Quote →</button>
        </div>
        <div class="get-in-touch-card">
            <h3>Get In Touch With Us</h3>
            <form id="heroContactForm">
                <input type="text" name="name" placeholder="Name" required>
                <input type="tel" name="phone" placeholder="Phone Number" required>
                <input type="text" name="plotLocation" placeholder="Plot Location" required>
                <input type="number" name="plotSizeSqft" placeholder="Plot Size (Sqft)" required>
                <button type="submit" style="background-color: #e53935 ; color: #fff; cursor: pointer; padding: 12px 30px; border: none; border-radius: 4px; font-weight: bold; width: 100%;">Book Free Consultation</button>
            </form>
        </div>
    </section>

    <section id="services" class="section">
        <div class="container">
          <h2 class="section-title">Our Services</h2>
          <div class="services-grid">
            <div class="service-card">
              <div class="service-img">
                <img src="https://images.unsplash.com/photo-1581145931588-7b5ef4c3360f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Home Renovation">
              </div>
              <div class="service-content">
                <h3>Home Renovation</h3>
                <p>Complete transformation of your existing space with premium materials and expert craftsmanship.</p>
                <a href="home-renovation.html" class="btn">Learn More</a>
              </div>
            </div>
            <div class="service-card">
              <div class="service-img">
                <img src="https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Interior Design">
              </div>
              <div class="service-content">
                <h3>Interior Design</h3>
                <p>Customized design solutions that blend aesthetics with functionality for a space you'll love.</p>
                <a href="interior-design.html" class="btn">Learn More</a>
              </div>
            </div>
            <div class="service-card">
              <div class="service-img">
                <img src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Construction">
              </div>
              <div class="service-content">
                <h3>Construction</h3>
                <p>From foundation to finishing touches, we handle all aspects of residential and commercial construction.</p>
                <a href="construction.html" class="btn">Learn More</a>
              </div>
            </div>
          </div>
        </div>
      </section>


      <section class="parallax-container">
        <div class="specialization-wrapper">
          <div class="specialization-header">
            <h2 class="section-title" >Our Specialization</h2>
            <p class="section-tagline">Transforming architectural visions into tangible reality with precision and innovation.</p>
          </div>
          
          <div class="specialization-card">
            <div class="image-container">
              <img src="pictures\backgroundimage.jpeg" alt="Modern Residential Building">
            </div>
            
            <div class="content-container">
              <h3 class="content-title">Residential Construction</h3>
              <p class="content-description">Elevating Concepts to Concrete Reality: Building Exceptional Homes and Spaces Through Expert Civil Construction</p>
              <a href="about-us.html" class="learn-more">Learn More</a>
            </div> 
          </div>   
          <button class="contact-button">Contact Us</button>
        </div>
      </section>
      
      <section id="projects" class="section">
        <div class="container">
            <h2 class="section-title">Our Projects</h2>
            
            <!-- Simple Category Filters -->
            <div class="category-filters">
                <button class="category-filter active" data-filter="all">All Projects</button>
                <button class="category-filter" data-filter="residential">Residential</button>
                <button class="category-filter" data-filter="commercial">Commercial</button>
                <button class="category-filter" data-filter="renovation">Renovation</button>
            </div>
            
            <div class="projects-container">
                <div class="projects-carousel">
                    <!-- Residential Projects -->
                    <div class="project-card" data-category="residential">
                        <div class="project-img">
                            <img src="pictures\estimator-house.jpeg" alt="Minimalist Home Design">
                        </div>
                        <div class="project-overlay">
                            <h3>Minimalist Home Design</h3>
                            <p>Complete design and furnishing of a minimalist home with emphasis on space and light.</p>
                        </div>
                    </div>
                    
                    <div class="project-card" data-category="residential">
                        <div class="project-img">
                            <img src="https://images.unsplash.com/photo-1523755231516-e43fd2e8dca5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Luxury Villa Construction">
                        </div>
                        <div class="project-overlay">
                            <h3>Luxury Villa Construction</h3>
                            <p>Design and construction of a 5000 sq ft luxury villa with swimming pool and home theater.</p>
                        </div>
                    </div>
                    
                    <!-- Commercial Projects -->
                    <div class="project-card" data-category="commercial">
                        <div class="project-img">
                            <img src="https://images.unsplash.com/photo-1519974719765-e6559eac2575?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Office Space Redesign">
                        </div>
                        <div class="project-overlay">
                            <h3>Office Space Redesign</h3>
                            <p>Interior redesign for a tech company's headquarters with focus on productivity and comfort.</p>
                        </div>
                    </div>
                    
                    <div class="project-card" data-category="commercial">
                        <div class="project-img">
                            <img src="https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Modern Workspace">
                        </div>
                        <div class="project-overlay">
                            <h3>Modern Workspace</h3>
                            <p>Collaborative workspace design for a creative agency with flexible meeting areas.</p>
                        </div>
                    </div>
                    <!-- Renovation Projects -->
                    <div class="project-card" data-category="renovation">
                        <div class="project-img">
                            <img src="https://images.unsplash.com/photo-1519710164239-da123dc03ef4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Modern Apartment Renovation">
                        </div>
                        <div class="project-overlay">
                            <h3>Modern Apartment Renovation</h3>
                            <p>Complete renovation of a 2-bedroom apartment with custom furniture and lighting solutions.</p>
                        </div>
                    </div>
                    
                    <div class="project-card" data-category="renovation">
                        <div class="project-img">
                            <img src="https://images.unsplash.com/photo-1513161455079-7dc1de15ef3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Restaurant Renovation">
                        </div>
                        <div class="project-overlay">
                            <h3>Restaurant Renovation</h3>
                            <p>Complete renovation of a fine dining establishment including kitchen and dining area.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="packages-section">
        <div class="container">
            <h2 class="section-title"> Packages </h2>
            <div class="package-tabs">
                <button class="package-tab-button active" data-package="1099">1099</button>
                <button class="package-tab-button" data-package="1499">1499</button>
                <button class="package-tab-button" data-package="1799">1799</button>
                <button class="package-tab-button" data-package="2099">2099</button>
            </div>
            <div class="package-content">
                <div class="package-sidebar">
                    <button class="package-sub-tab-button" data-subtab="Earth Work">Earth Work</button>
                    <button class="package-sub-tab-button" data-subtab="Structure">Structure</button> 
                    <button class="package-sub-tab-button" data-subtab="Miscellaneous">Miscellaneous</button>
                    <button class="package-sub-tab-button" data-subtab="Plumbing and Sanitation Lines">Plumbing and Sanitation Lines</button>
                    <button class="package-sub-tab-button" data-subtab="Painting">Painting</button>
                    <button class="package-sub-tab-button" data-subtab="Electrical">Electrical</button>
                </div>
                <div class="package-main-content">
                    </div>
            </div>
        </div>
    </section>
    <div class="parallax-divider"></div>
   <!-- HTML Structure -->
<section id="our-usp" class="section">
    <div class="container">
      <div class="usp-content-wrapper">
        <div class="usp-image-container">
          <div class="image-layer">
            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Luxurious Modern House">
          </div>
          <div class="orange-rectangle"></div>
        </div>
        <div class="usp-points">
          <h2 class="section-title">The Brick & Beauty Promise</h2>
          <p class="usp-intro">Transforming Visions into Smart, Sustainable Spaces.</p>
          <ul class="usp-grid">
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-medal usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>Warranty</h3>
                <p>15 Years of Structural Warranty</p>
              </div>
            </li>
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-ban usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>No Third Party</h3>
                <p>No Involvement of Third-Party Contractor</p>
              </div>
            </li>
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-hourglass-half usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>Quality Checks</h3>
                <p>450+ Quality Checks for Superior Work</p>
              </div>
            </li>
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-user-graduate usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>Dedicated Engineer</h3>
                <p>Dedicated Full-Time Civil Engineer With Each Project</p>
              </div>
            </li>
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-tag usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>Best Price</h3>
                <p>Best Price Without Compromising Quality</p>
              </div>
            </li>
            <li class="usp-item">
              <div class="usp-icon-wrapper">
                <i class="fas fa-truck usp-icon"></i>
              </div>
              <div class="usp-text">
                <h3>Brand Partners</h3>
                <p>Only Work With Branded Material</p>
              </div>
            </li>
          </ul>
          <button class="contact-button">Contact Us</button>
        </div>
      </div>
    </div>
  </section>

  <section class="how-we-work-section">
    <div class="container">
      <h2 class="section-title">How We Work!</h2>
      <div class="separator"></div>
      <p class="methodology-subtitle">Our Methodology: Innovating with Technology, Perfecting with Craftsmanship</p>
      
      <div class="work-steps">
        <div class="step active" data-step="1">
          <h3>1. Understanding Client Requirements</h3>
        </div>
        <div class="step" data-step="2">
          <h3>2. Detailed Cost Estimation</h3>
        </div>
        <div class="step" data-step="3">
          <h3>3. Architectural Planning</h3>
        </div>
        <div class="step" data-step="4">
          <h3>4. Project Scheduling</h3>
        </div>
        <div class="step" data-step="5">
          <h3>5. Site Execution Start</h3>
        </div>
        <div class="step" data-step="6">
          <h3>6. Professional Project Hand Over</h3>
        </div>
      </div>
      
      <div class="step-content active" data-content="1">
        <h3>Understanding Client Requirements</h3>
        <p>We begin by thoroughly understanding your vision, requirements, and expectations. Our team conducts detailed discussions to capture all aspects of your project, including budget constraints, timeline expectations, design preferences, and functional needs. This foundation ensures we're aligned with your goals from the start.</p>
        <div class="step-image">
          <img src="pictures\undersanding needs.jpg" alt="Understanding Client Requirements">
        </div>
      </div>
      
      <div class="step-content" data-content="2">
        <h3>Detailed Cost Estimation</h3>
        <p>After understanding your requirements, our experts prepare a comprehensive cost estimate for your project. This includes material costs, labor costs, permits, and additional expenses. We ensure transparency in our pricing and provide detailed breakdowns so you understand exactly where your investment is going.</p>
        <div class="step-image">
          <img src="pictures\Project-Cost-Estimation.jpg" alt="Detailed Cost Estimation">
        </div>
      </div>
      
      <div class="step-content" data-content="3">
        <h3>Architectural Planning</h3>
        <p>Our architectural team develops detailed plans and designs that meet your requirements while adhering to building codes and regulations. We use advanced 3D modeling software to help you visualize the final outcome before construction begins. This stage includes layout planning, structural designs, elevation plans, and material selection.</p>
        <div class="step-image">
          <img src="pictures\architetcural plan.jpeg" alt="Architectural Planning">
        </div>
      </div>
      
      <div class="step-content" data-content="4">
        <h3>Project Scheduling</h3>
        <p>We create a detailed project timeline with clear milestones to ensure timely completion. Our scheduling process includes resource allocation, task sequencing, critical path analysis, and buffer periods for unforeseen delays. This meticulous planning helps us deliver projects on time and within budget.</p>
        <div class="step-image">
          <img src="/api/placeholder/500/320" alt="Project Scheduling">
        </div>
      </div>
      
      <div class="step-content" data-content="5">
        <h3>Site Execution Start</h3>
        <p>Once planning is complete, our experienced construction team begins the execution phase. We maintain strict quality control measures throughout the construction process. Our project managers oversee daily operations, ensuring adherence to safety protocols, quality standards, and schedule commitments while keeping you updated on progress.</p>
        <div class="step-image">
          <img src="pictures\site execution.jpg" alt="Site Execution Start">
        </div>
      </div>
      
      <div class="step-content" data-content="6">
        <h3>Professional Project Hand Over</h3>
        <p>Upon completion, we conduct thorough inspections to ensure everything meets our quality standards and your expectations. We provide you with all necessary documentation, warranties, and maintenance guidelines. Our team walks you through the finished project, explaining all features and addressing any questions before formal handover.</p>
        <div class="step-image">
          <img src="pictures\project-handover.jpg" alt="Professional Project Hand Over">
        </div>
      </div>
    </div>
  </section>

   <!-- Tech Advancement Section -->
   <!-- Tech Advancement Section -->
<!-- Tech Advancement Section -->
<section id="tech-advancement" class="section">
    <div class="container">
        <h2 class="section-title">Tech Advancement</h2>
        <div class="section-divider"></div>
        
        <p class="section-description">
            Technology in the construction industry enhances efficiency, safety, and project management, leading to cost savings and improved outcomes.
        </p>
        
        <div class="tech-grid">
            <div class="tech-item">
                <div class="tech-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Digital Survey</h3>
                <p>The technique and science of determining the terrestrial, i.e. the three-dimensional position of points and the distances and angles between them, using digital</p>
                <button class="contact-button">Contact Us</button>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Soil Test</h3>
                <p>It involves measuring the soil's liquid limit, plastic limit, and shrinkage limit. These limits provide valuable information about the soil's behavior and nature</p>
                <button class="contact-button">Contact Us</button>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Cube Test</h3>
                <p>A concrete cube test involves taking a sample of freshly mixed concrete, letting it cure, then crushing it and measuring its compressive strength. Many concrete</p>
                <button class="contact-button">Contact Us</button>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>BIM Technology</h3>
                <p>Building information modeling is a process involving the generation and management of digital representations of the physical and functional characteristics of buildings and other physical assets.</p>
                <button class="contact-button"> Us</button>
            </div>
            
            <div class="tech-item">
                <div class="tech-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>Progress Report</h3>
                <p>Here at Engineer ConstructionWala, we take pride in our commitment to excellence and transparency. With our daily progress tracking reports, sent conveniently via WhatsApp and our dedicated application, we ensure our clients stay informed every step of the way.</p>
                <button class="contact-button">Contact Us</button>
            </div>
        </div>
    </div>
</section>

<section id="cost-estimator" class="section">
    <div class="container">
      <h2 class="section-title">Cost Estimator</h2>
      <div class="estimator-layout">
        <div class="estimator-image">
          <img src="pictures\estimator-house.jpeg" alt="Construction Estimate"> 
        </div>
        <div class="estimator-info">
            <p>Get an <span class="highlight">instant cost estimate</span> for your dream construction project in just a few clicks!</p>
            <p>Get an estimate for your project by clicking the button below:</p>
            <ol class="steps-list">
              <li>Enter your project details</li>
              <li>Choose your construction package</li>
              <li>Provide your contact information</li>
              <li>Get your personalized estimate instantly</li>
            </ol>
            <p class="subtext">Our advanced calculator provides personalized pricing based on your specific requirements.</p>
            <button id="open-estimator-btn">Calculate Your Project Cost</button>
          </div>
      </div>
  
      <div id="estimator-popup" class="popup-overlay">
        <div class="popup-content">
          <div class="popup-header">
            <h3>Cost Estimator Form</h3>
            <button id="close-popup-btn" class="close-btn">&times;</button> 
          </div>
          <p>Get an estimate for your project by filling out the form below:</p>
          
          <form id="cost-estimator-form" method="post"> 
            <div class="form-row">
              <div class="form-group">
                <label for="cost-estimator-plot-size">Plot Size (sq ft)</label>
                <input type="number" id="cost-estimator-plot-size" name="plot_size" placeholder="e.g. 1000" required>
              </div>
              <div class="form-group">
                <label for="cost-estimator-plot-location">Location</label>
                <select id="cost-estimator-plot-location" name="plot_location" required>
                  <option value="">Select Location</option>
                  <option value="urban">Urban</option>
                  <option value="suburban">Suburban</option>
                  <option value="rural">Rural</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="cost-estimator-package-select">Construction Package</label>
                <select id="cost-estimator-package-select" name="package" required>
                  <option value="">Select Package</option>
                  <option value="1099">Basic (Rs.1099/-)</option>
                  <option value="1499">Standard (Rs.1499/-)</option>
                  <option value="1799">Premium (Rs.1799/-)</option>
                  <option value="2099">Luxury (Rs.2099/-)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="cost-estimator-floors">Number of Floors</label>
                <select id="cost-estimator-floors" name="floors" required>
                  <option value="">Select Floors</option>
                  <option value="1">Ground</option>
                  <option value="2">Ground + 1</option>
                  <option value="3">Ground + 2</option>
                  <option value="4">Ground + 3</option>
                  <option value="5">Ground + 4</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="cost-estimator-name">Full Name</label>
                <input type="text" id="cost-estimator-name" name="name" placeholder="Your Name" required>
              </div>
              <div class="form-group">
                <label for="cost-estimator-email">Email Address</label>
                <input type="email" id="cost-estimator-email" name="email" placeholder="Your Email" required>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="cost-estimator-phone">Phone Number</label>
                <input type="tel" id="cost-estimator-phone" name="phone" placeholder="Your Phone Number" required>
              </div>
              <div class="form-group">
                <label for="cost-estimator-lift">Lift</label>
                <select id="cost-estimator-lift" name="lift" required>
                  <option value="">Select</option>
                  <option value="yes">Yes</option>
                  <option value="no">No</option>
                </select>
              </div>
            </div>
            
            <button type="submit" id="calculate-estimate-btn">Calculate Estimate</button> 
          </form>
        </div>
      </div>
      
      <div id="thankYouModal1" class="popup-overlay">
        <div class="thank-you-box">
          <h2>Thank you!</h2>
          <p id="modal-message">Your personalized project estimate is below:</p>
          <div id="cost-result"></div>
          <button id="closeModal">Close</button> 
        </div>
      </div>
    </div>
</section>


  
    <section id="what-clients-say" class="section">
        <div class="container">
            <h2 class="section-title">What Our Clients Say</h2>
            <!-- First Row of Testimonials -->
            <div class="testimonials-carousel">
                <button class="nav-arrow prev-arrow first-row-prev">&#10094;</button>
                
                <div class="testimonials-wrapper">
                    <div class="testimonials-track first-row">
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="pictures\client1.jpg" alt="Mr. Tope">
                            </div>
                            <h3 class="client-name">Mr. Tope</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">BuildSpace turned our dream bungalow into reality with precision and professionalism. Their attention to detail and on-time delivery exceeded our expectations.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="pictures\client2.jpg" alt="Mr. Dhumal">
                            </div>
                            <h3 class="client-name">Mr. Dhumal</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">We're delighted with our new home built by BuildSpace. Their expertise and innovative ideas gave us a house that perfectly suits our family's needs.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="pictures\client3.jpg" alt="Mr. Kumar">
                            </div>
                            <h3 class="client-name">Mr. Kumar</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">BuildSpace is simply outstanding! Their use of modern technology sets them apart. From the initial consultation to the final walk-through, they delivered excellence every step of the way.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Mr. Roberts">
                            </div>
                            <h3 class="client-name">Mr. Roberts</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">The quality of workmanship from BuildSpace is unmatched. They understood our requirements perfectly and delivered a home that exceeded our expectations in every way.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Mr. Sharma">
                            </div>
                            <h3 class="client-name">Mr. Sharma</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">We chose BuildSpace after extensive research and couldn't be happier. They maintained transparency throughout the process and completed our project within the stipulated timeframe.</p>
                        </div>
                    </div>
                </div>
                
                <button class="nav-arrow next-arrow first-row-next">&#10095;</button>
            </div>
            <!-- Second Row of Testimonials -->
            <div class="testimonials-carousel" style="margin-top: 40px;">
                <button class="nav-arrow prev-arrow second-row-prev">&#10094;</button>
                <div class="testimonials-wrapper">
                    <div class="testimonials-track second-row">
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Mr. Waghmare">
                            </div>
                            <h3 class="client-name">Mr. Waghmare</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">I was skeptical about starting a home construction project, but BuildSpace eased all my concerns. Their project scheduling ensured a smooth journey, and I now have a home that's the envy of my friends.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Narwade Family">
                            </div>
                            <h3 class="client-name">Narwade Family</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">I can't praise BuildSpace enough. The handover of my project was a breeze, and the quality of work is exceptional. If you're looking for the best in Pune, look no further.</p>
                        </div>    
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Mr. Shivkumar">
                            </div>
                            <h3 class="client-name">Mr. Shivkumar</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">BuildSpace is a game-changer in the construction industry. Their use of modern technology is evident in the quality of work they deliver. From day one, they made it clear that excellence is non-negotiable.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Patel Family">
                            </div>
                            <h3 class="client-name">Patel Family</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">BuildSpace made our dream home a reality. Their dedication to quality and customer satisfsaction is truly commendable. We recommend them to everyone looking for reliable construction services.</p>
                        </div>
                        
                        <div class="testimonial-card">
                            <div class="client-image">
                                <img src="https://via.placeholder.com/150" alt="Ms. Deshmukh">
                            </div>
                            <h3 class="client-name">Ms. Deshmukh</h3>
                            <p class="client-location">Pune</p>
                            <div class="rating">
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                                <span class="star">★</span>
                            </div>
                            <p class="testimonial-text">As a first-time homeowner, I was nervous about the construction process. BuildSpace guided me through each step, offering expert advice and implementing my ideas perfectly. The result is stunning!</p>
                        </div>
                    </div>
                </div>
                
                <button class="nav-arrow next-arrow second-row-next">&#10095;</button>
            </div>
        </div>
    </section> 

<!-- Contact Us Section -->
 
<div id="contact-us" class="section">
    <!-- Curvy side with image only - no text overlay -->
    <div class="curve-shape">
      <!-- Image is added via CSS -->
    </div>
    
    <!-- Contact Us content area with details -->
    <div class="container">
      <div class="contact-content">
        <h2>Contact Us</h2>
        <p>Get in touch for a free consultation. Let's build something beautiful together!</p>
        
        <!-- Contact details moved here from the image -->
        <div class="contact-details">
          <h3>Our Details</h3>
          <p><i class="fa fa-map-marker-alt"></i> Handewadi, Pune 411060 </p>
          <p><i class="fa fa-phone"></i> +91 8830344819</p>
          <p><i class="fa fa-envelope"></i> brickwickconstruction.com</p>
          <p><i class="fa fa-clock"></i> Mon-Fri: 9AM - 5PM</p>
        </div>
      </div>
      <div class="contact-button-container">
        <button class="contact-button">Contact Us</button>
      </div>
    </div>
  </div>

<!-- Floating Popup (not in any section, positioned absolutely) -->
<div class="contact-popup">
    <div class="contact-form">
        <span class="close-popup">&times;</span>
        <h2>Get a Quote</h2>
        <form id="contactForm">
            <div class="form-group">
                <input type="text" name="name" placeholder="Name" required>
            </div>
            <div class="form-group">
                <input type="tel" name="phone" placeholder="Phone Number" required>
            </div>
            <div class="form-group">
                <input type="text" name="plotLocation" placeholder="Plot Location" required>
            </div>
            <div class="form-group">
                <input type="number" name="plotSizeSqft" placeholder="Plot Size (Sqft)" required>
            </div>
            <button type="submit" style="background-color: #e53935; color: #fff; cursor: pointer; padding: 12px 30px; border: none; border-radius: 4px; font-weight: bold;">Submit</button>
        </form>
    </div>
</div>

    <div id="thankYouModal">
        <p>Thank you!</p>
        <button id="closeModal">Close</button>
    </div>

        <div id="footer-placeholder"></div>

    <script src="test_submit.js"></script>
  <script>
// ==============================================
// 1. HTML Loader Function(Improved Reliability)
// ==============================================
function loadComponent(placeholderId, filePath, callback) {
    const placeholder = document.getElementById(placeholderId);
    if (placeholder) {
        fetch(filePath)
            .then(response => {
                // 💡 Improvement: Check for HTTP errors (like 404 Not Found)
                if (!response.ok) {
                    throw new Error(`Failed to load ${filePath}: ${response.status} ${response.statusText}`);
                }
                return response.text();
            })
            .then(data => {
                placeholder.innerHTML = data;
                // Execute callback AFTER content is loaded
                if (callback) callback();
            })
            .catch(error => {
                console.error(`Error loading ${filePath}:`, error);
                // Display a clearer error to the developer/user
                placeholder.innerHTML = `<p style="color: red; text-align: center;">Error loading ${placeholderId}. Check console for details.</p>`;
            }); 
    }
}

// ===========================================
// 2. Header Interactivity/Menu Logic (Fixed Sticky Jump)
// ===========================================
function initHeaderScripts() {
    // Toggle Menu Variables
    const hamburger = document.querySelector('.hamburger');
    const closeMenu = document.querySelector('.close-menu');
    const navMenu = document.querySelector('.nav-menu');
    const header = document.querySelector('header'); // Header now exists in the DOM

    if (hamburger && navMenu) {
        // Show menu when clicking hamburger
        hamburger.addEventListener('click', function (e) {
            e.stopPropagation();
            navMenu.classList.add('active');
        });
        // Hide menu when clicking close button
        if (closeMenu) {
            closeMenu.addEventListener('click', function (e) {
                e.stopPropagation();
                navMenu.classList.remove('active');
            });
        }
        // Close menu when clicking outside
        document.addEventListener('click', function (e) {
            if (navMenu.classList.contains('active')) {
                if (!navMenu.contains(e.target) && !hamburger.contains(e.target)) {
                    navMenu.classList.remove('active');
                }
            }
        });
        // Close menu when clicking a nav link
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', function () {
                navMenu.classList.remove('active');
            });
        });
    }

    // Sticky Header effect (runs as soon as header is loaded)
    if (header) {
        // Get the header height once it's loaded
        const headerHeight = header.offsetHeight;

        window.addEventListener('scroll', () => {
            const isScrolled = window.scrollY > 10;
            header.classList.toggle('scrolled', isScrolled);

            // 💡 CRITICAL FIX: Add padding to body to prevent content jump
            document.body.style.paddingTop = isScrolled ? `${headerHeight}px` : '0';
        });

        // Initial check in case the user loads page already scrolled
        const isScrolled = window.scrollY > 10;
        header.classList.toggle('scrolled', isScrolled);
        document.body.style.paddingTop = isScrolled ? `${headerHeight}px` : '0';
    }
}

// ===========================================
// 3. Footer Interactivity (WhatsApp)
// ===========================================
function initFooterScripts() {
    const whatsappIcon = document.querySelector('.whatsapp-icon');
    if (whatsappIcon) {
        whatsappIcon.classList.add('pulse');
    }
    // Note: You would place any other footer-specific JS here
}

// ===========================================
// 4. Main Initialization
// ===========================================
document.addEventListener('DOMContentLoaded', function() {
    // Load header and run its scripts AFTER content injection
    // NOTE: Paths are set to 'partials/' as per the best practice fix.
    loadComponent('header-placeholder', 'partials/header.html', initHeaderScripts);
    loadComponent('footer-placeholder', 'partials/footer.html', initFooterScripts);

    // Toggle Menu (REMOVED REDUNDANT LOGIC from old script)
    // The menu logic is now handled ONLY inside initHeaderScripts.

    // Project Filter Functionality
    const projectCards = document.querySelectorAll('.project-card');
    const categoryFilters = document.querySelectorAll('.category-filter');
    
    // Animation for initial load
    function animateCards() {
        projectCards.forEach((card, index) => {
            setTimeout(() => {
                card.classList.add('show');
            }, 150 * index); // Staggered animation
        });
    }

    // Filter functionality
    categoryFilters.forEach(filter => {
        filter.addEventListener('click', function() {
            // Update active state
            categoryFilters.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            const category = this.getAttribute('data-filter');

            // Hide all cards first
            projectCards.forEach(card => {
                card.classList.remove('show');
                setTimeout(() => {
                    // If "all" is selected or card matches the category
                    if (category === 'all' || card.getAttribute('data-category') === category) {
                        card.style.display = 'block';
                        // Small delay before showing
                        setTimeout(() => {
                            card.classList.add('show');
                        }, 50);
                    } else {
                        card.style.display = 'none';
                    }
                }, 300); // Wait for fade out
            });
        });
    });
    
    // Run initial animation
    animateCards();
// --- Configuration and Selectors ---
const contactButtons = document.querySelectorAll('.contact-button, .get-free-quote-btn');
const contactPopup = document.querySelector('.contact-popup');
const closePopup = document.querySelector('.close-popup');
const heroContactForm = document.getElementById('heroContactForm');
const contactForm = document.getElementById('contactForm');
const SUBMISSION_URL = 'submit_contact.php'; // Define once for easy update

// --- 1. Popup Functionality ---

/**
 * Handles opening and closing the contact form popup.
 */
function initializePopup() {
    if (contactButtons.length > 0 && contactPopup && closePopup) {
        // Open Popup
        contactButtons.forEach(button => {
            button.addEventListener('click', () => {
                contactPopup.style.display = 'flex';
                contactPopup.setAttribute('aria-modal', 'true');
                contactPopup.focus(); // Good for accessibility
            });
        });

        // Close Popup
        closePopup.addEventListener('click', () => {
            contactPopup.style.display = 'none';
            contactPopup.setAttribute('aria-modal', 'false');
        });

        // Close on outside click (optional, but good UX)
        contactPopup.addEventListener('click', (event) => {
            if (event.target === contactPopup) {
                contactPopup.style.display = 'none';
                contactPopup.setAttribute('aria-modal', 'false');
            }
        });

        // Close on Escape key
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && contactPopup.style.display === 'flex') {
                contactPopup.style.display = 'none';
                contactPopup.setAttribute('aria-modal', 'false');
            }
        });
    }
}

// --- 2. Form Submission Handler ---

/**
 * Handles the submission for any contact form.
 * @param {HTMLFormElement} formElement - The form being submitted.
 */
async function handleFormSubmission(formElement) {
    // Basic client-side check using built-in browser validation
    if (!formElement.checkValidity()) {
        // The browser will display its own error message, we just stop
        return;
    }

    const submitButton = formElement.querySelector('button[type="submit"]');
    const formData = new FormData(formElement);

    // Disable button and show loading state
    submitButton.disabled = true;
    submitButton.textContent = 'Sending...';

    try {
        // IMPORTANT: Server should return a JSON object and proper HTTP status codes
        const response = await fetch(SUBMISSION_URL, {
            method: 'POST',
            body: formData
        });

        // Check for HTTP errors (e.g., 400 Bad Request, 500 Server Error)
        if (!response.ok) {
            // Read the error message from the response body if available
            let errorText = await response.text(); 
            throw new Error(`Server Error (${response.status}): ${errorText.substring(0, 100)}...`);
        }

        // Assuming the server returns JSON for success or validation errors
        // If your server *only* returns 'success' text, you'd use response.text()
        const data = await response.json(); 

        if (data.status === 'success') {
            alert(data.message || 'Thank you for your inquiry! We will be in touch shortly.');
            formElement.reset(); // Reset form on success

            // Special handling for the popup form
            if (formElement.id === 'contactForm' && contactPopup) {
                contactPopup.style.display = 'none';
                contactPopup.setAttribute('aria-modal', 'false');
            }
        } else {
            // Handle specific validation/application errors returned by the server
            alert('Submission Failed: ' + (data.message || 'Please check your inputs and try again.'));
        }

    } catch (error) {
        console.error('Fetch error:', error);
        // Display a generic error message to the user
        alert('An unexpected error occurred. Please try again or contact us directly.');
    } finally {
        // Re-enable button and restore original text
        submitButton.disabled = false;
        submitButton.textContent = 'Submit';
    }
}

/**
 * Attaches the submission handler to a form.
 * @param {HTMLFormElement | null} formElement - The form to attach to.
 */
function attachFormListener(formElement) {
    if (formElement) {
        formElement.addEventListener('submit', function(event) {
            event.preventDefault();
            handleFormSubmission(this);
        });
    }
}

// --- 3. Initialization ---

document.addEventListener('DOMContentLoaded', () => {
    initializePopup();
    attachFormListener(heroContactForm);
    attachFormListener(contactForm);
});

    // ===========================================
    // Packages Data and Functions
    // (This data block is large, but essential for the functionality)
    // ===========================================
    const packageTabs = document.querySelectorAll('.package-tab-button');
    const packageContentDiv = document.querySelector('.package-content');
    const packageData = {
        "1099": { /* ... your package data ... */
            "EarthWork": [{
                title: "Excavation details in hard/soft soil",
                description: "Detailed plan for excavation based on soil type."
            }, {
                title: "Foundation preparation",
                description: "Preparing the base for the foundation."
            }, {
                title: "Removing excavated earth upto 5 feet",
                description: "Disposal of excavated soil up to a depth of 5 feet."
            }],
            "Structure": [{
                title: "RCC framework, columns, beams, slabs, lintels",
                description: "Reinforced cement concrete framework construction."
            }],
            "Miscellaneous": [{
                title: "Site cleaning, curing, waste disposal",
                description: "General site maintenance and waste management."
            }]
        },
        "1499": { /* ... your package data ... */
            "Designs & Layouts": [{
                title: "Architectural floor plan",
                description: "Detailed layout of the building's floor plan."
            }, {
                title: "3D Elevation",
                description: "Three-dimensional view of the building's exterior."
            }, {
                title: "Electrical layout",
                description: "Plan for electrical wiring and fixtures."
            }, {
                title: "Plumbing layout",
                description: "Plan for water and sewage pipes."
            }, {
                title: "Brickwork layout",
                description: "Plan for brick and masonry work."
            }, {
                title: "Working Drawings",
                description: "Detailed drawings for construction."
            }, {
                title: "Structural Drawings",
                description: "Drawings detailing the building's structural components."
            }],
            "EarthWork": [{
                title: "Enhanced excavation details",
                description: "More detailed planning for excavation."
            }],
            "Structure": [{
                title: "Advanced RCC framework",
                description: "Advanced reinforced cement concrete framework."
            }],
            "Flooring": [{
                title: "Flooring Options (Tiles, Marble, etc.)",
                description: "Selection and installation of flooring materials."
            }],
            "Kitchen Counter": [{
                title: "Countertop Materials (Granite, Quartz, etc.)",
                description: "Selection and installation of kitchen countertops."
            }],
            "Bathroom": [{
                title: "Bathroom Fixtures and Fittings",
                description: "Installation of bathroom fixtures."
            }],
            "Door Frames and Fitting": [{
                title: "Door Frame Installation",
                description: "Installation of door frames and fittings."
            }],
            "Window": [{
                title: "Window Frame Installation",
                description: "Installation of window frames and glazing."
            }],
            "Plumbing and Sanitation Lines": [{
                title: "Plumbing Pipe Installation",
                description: "Installation of plumbing pipes and sanitaryware."
            }],
            "Painting": [{
                title: "Interior and Exterior Painting",
                description: "Painting of interior and exterior walls."
            }],
            "Electrical": [{
                title: "Wiring and Conduiting",
                description: "Electrical wiring and conduit installation."
            }],
            "Miscellaneous": [{
                title: "Premium site cleaning, curing, waste disposal",
                description: "Enhanced site maintenance."
            }]
        },
        "1799": { /* ... your package data ... */
            "Designs & Layouts": [{
                title: "Architectural floor plan",
                description: "Detailed layout of the building's floor plan."
            }, {
                title: "3D Elevation",
                description: "Three-dimensional view of the building's exterior."
            }, {
                title: "Electrical layout",
                description: "Plan for electrical wiring and fixtures."
            }, {
                title: "Plumbing layout",
                description: "Plan for water and sewage pipes."
            }, {
                title: "Brickwork layout",
                description: "Plan for brick and masonry work."
            }, {
                title: "Working Drawings",
                description: "Detailed drawings for construction."
            }, {
                title: "Structural Drawings",
                description: "Drawings detailing the building's structural components."
            }],
            "EarthWork": [{
                title: "Specialized excavation",
                description: "Specialized planning for excavation."
            }],
            "Structure": [{
                title: "High-grade RCC components",
                description: "High-grade reinforced cement concrete components."
            }],
            "Flooring": [{
                title: "Flooring Options (Tiles, Marble, etc.)",
                description: "Selection and installation of flooring materials."
            }],
            "Kitchen Counter": [{
                title: "Countertop Materials (Granite, Quartz, etc.)",
                description: "Selection and installation of kitchen countertops."
            }],
            "Bathroom": [{
                title: "Bathroom Fixtures and Fittings",
                description: "Installation of bathroom fixtures."
            }],
            "Door Frames and Fitting": [{
                title: "Door Frame Installation",
                description: "Installation of door frames and fittings."
            }],
            "Window": [{
                title: "Window Frame Installation",
                description: "Installation of window frames and glazing."
            }],
            "Plumbing and Sanitation Lines": [{
                title: "Plumbing Pipe Installation",
                description: "Installation of plumbing pipes and sanitaryware."
            }],
            "Painting": [{
                title: "Interior and Exterior Painting",
                description: "Painting of interior and exterior walls."
            }],
            "Electrical": [{
                title: "Wiring and Conduiting",
                description: "Electrical wiring and conduit installation."
            }],
            "Miscellaneous": [{
                title: "Comprehensivesite management",
                description: "Comprehensive site maintenance."
            }]
        },
        "2099": { /* ... your package data ... */
            "Designs & Layouts": [{
                title: "Architectural floor plan",
                description: "Detailed layout of the building's floor plan."
            }, {
                title: "3D Elevation",
                description: "Three-dimensional view of the building's exterior."
            }, {
                title: "Electrical layout",
                description: "Plan for electrical wiring and fixtures."
            }, {
                title: "Plumbing layout",
                description: "Plan for water and sewage pipes."
            }, {
                title: "Brickwork layout",
                description: "Plan for brick and masonry work."
            }, {
                title: "Working Drawings",
                description: "Detailed drawings for construction."
            }, {
                title: "Structural Drawings",
                description: "Drawings detailing the building's structural components."
            }],
            "EarthWork": [{
                title: "Complex excavation solutions",
                description: "Complex planning for excavation."
            }],
            "Structure": [{
                title: "Luxury RCC framework",
                description: "Luxury reinforced cement concrete framework."
            }],
            "Flooring": [{
                title: "Flooring Options (Tiles, Marble, etc.)",
                description: "Selection and installation of flooring materials."
            }],
            "Kitchen Counter": [{
                title: "Countertop Materials (Granite, Quartz, etc.)",
                description: "Selection and installation of kitchen countertops."
            }],
            "Bathroom": [{
                title: "Bathroom Fixtures and Fittings",
                description: "Installation of bathroom fixtures."
            }],
            "Door Frames and Fitting": [{
                title: "Door Frame Installation",
                description: "Installation of door frames and fittings."
            }],
            "Window": [{
                title: "Window Frame Installation",
                description: "Installation of window frames and glazing."
            }],
            "Plumbing and Sanitation Lines": [{
                title: "Plumbing Pipe Installation",
                description: "Installation of plumbing pipes and sanitaryware."
            }],
            "Painting": [{
                title: "Interior and Exterior Painting",
                description: "Painting of interior and exterior walls."
            }],
            "Electrical": [{
                title: "Wiring and Conduiting",
                description: "Electrical wiring and conduit installation."
            }],
            "Miscellaneous": [{
                title: "Elite site services",
                description: "Elite site maintenance."
            }]
        }
    };

    function loadPackageContent(packageId) {
        const sidebar = document.querySelector('.package-sidebar');
        const mainContent = document.querySelector('.package-main-content');
        sidebar.innerHTML = ''; // Clear existing sidebar items
        mainContent.innerHTML = ''; // Clear existing main content

        // Generate sidebar items based on the selected package
        for (const category in packageData[packageId]) {
            const li = document.createElement('li');
            li.textContent = category;

            // Add event listener to each sidebar item
            li.addEventListener('click', () => {
                // Remove 'active' class from all sidebar items
                sidebar.querySelectorAll('li').forEach(item => item.classList.remove('active'));
                // Add 'active' class to the clicked sidebar item
                li.classList.add('active');
                // Update the main content area
                updateCategoryContent(packageId, category);
            });
            sidebar.appendChild(li);
        }

        // Show the first category's content by default
        const firstCategory = Object.keys(packageData[packageId])[0];
        updateCategoryContent(packageId, firstCategory);
        sidebar.querySelector('li').classList.add('active');
    }

    function updateCategoryContent(packageId, category) {
        const mainContent = document.querySelector('.package-main-content');
        mainContent.innerHTML = ''; // Clear existing main content
        const categoryData = packageData[packageId][category];

        if (categoryData) {
            const title = document.createElement('h2');
            title.textContent = category;
            mainContent.appendChild(title);

            const list = document.createElement('ul');
            categoryData.forEach(item => {
                const li = document.createElement('li');
                // Create a title element (e.g., <h4>)
                const titleElement = document.createElement('h4');
                titleElement.textContent = item.title;
                li.appendChild(titleElement);

                // Create a description element (e.g., <p>)
                const descriptionElement = document.createElement('p');
                descriptionElement.textContent = item.description;
                li.appendChild(descriptionElement);

                list.appendChild(li);
            });
            mainContent.appendChild(list);
        } else {
            // Handle case where categoryData is not found
            mainContent.innerHTML = "<p>No information available for this category.</p>";
        }
    }

    packageTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const packageId = tab.dataset.package;
            packageTabs.forEach(btn => btn.classList.remove('active'));
            tab.classList.add('active');
            loadPackageContent(packageId);
        });
    });

    // Load default package on page load
    loadPackageContent("1099");

    // ===========================================
    // Scroll Effects (Parallax, Feature Visibility)
    // ===========================================
    window.addEventListener('scroll', () => {
        const scrollPosition = window.pageYOffset;

        // Add subtle movement to hero content while scrolling
        const heroContent = document.querySelector('.hero-content');
        if (heroContent) {
            heroContent.style.transform = `translateY(${scrollPosition * 0.1}px)`;
        }

        // Optional: add subtle effect to feature cards when they come into view
        const featureCards = document.querySelectorAll('.feature-card');
        featureCards.forEach((card, index) => {
            const cardPosition = card.getBoundingClientRect().top;
            const screenPosition = window.innerHeight / 1.3;
            if (cardPosition < screenPosition) {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }
        });
    });

// =========================================
// COST ESTIMATOR - PRODUCTION READY CODE
// Maintains original functionality with enhanced security
// =========================================

(function() {
  'use strict';

  /**
   * Configuration
   */
  const CONFIG = {
    API_ENDPOINT: 'store_estimation.php',
    PACKAGE_RATES: {
      '1099': 1099,
      '1499': 1499,
      '1799': 1799,
      '2099': 2099
    },
    MAX_PLOT_SIZE: 100000,
    MIN_PLOT_SIZE: 100,
    TIMEOUT: 30000
  };

  /**
   * DOM Element Cache
   */
  const elements = {
    openBtn: null,
    closePopupBtn: null,
    closeModalBtn: null,
    popup: null,
    thankYouModal: null,
    form: null,
    costResult: null
  };

  /**
   * Initialize DOM elements
   */
  function cacheElements() {
    elements.openBtn = document.getElementById('open-estimator-btn');
    elements.closePopupBtn = document.getElementById('close-popup-btn');
    elements.closeModalBtn = document.getElementById('closeModal');
    elements.popup = document.getElementById('estimator-popup');
    elements.thankYouModal = document.getElementById('thankYouModal1');
    elements.form = document.getElementById('cost-estimator-form');
    elements.costResult = document.getElementById('cost-result');
  }

  /**
   * Open estimator popup
   */
  function openEstimatorPopup() {
    if (elements.popup) {
      elements.popup.style.display = 'flex';
      document.body.classList.add('modal-open');
      document.body.style.overflow = 'hidden';
    }
  }

  /**
   * Close estimator popup
   */
  function closeEstimatorPopup() {
    if (elements.popup) {
      elements.popup.style.display = 'none';
      document.body.classList.remove('modal-open');
      document.body.style.overflow = '';
    }
    if (elements.form) {
      elements.form.reset();
      clearValidationErrors(elements.form);
    }
  }

  /**
   * Close thank you modal
   */
  function closeThankYouModal() {
    if (elements.thankYouModal) {
      elements.thankYouModal.style.display = 'none';
      document.body.classList.remove('modal-open');
      document.body.style.overflow = '';
    }
  }

  /**
   * Clear all validation errors
   */
  function clearValidationErrors(form) {
    const errorMessages = form.querySelectorAll('.error-message');
    errorMessages.forEach(msg => msg.remove());
    
    const errorInputs = form.querySelectorAll('.input-error');
    errorInputs.forEach(input => input.classList.remove('input-error'));
  }

  /**
   * Show field error
   */
  function showFieldError(fieldId, message) {
    const field = document.getElementById(fieldId);
    if (!field) return;
    
    // Remove existing error
    const existingError = field.parentElement.querySelector('.error-message');
    if (existingError) existingError.remove();
    
    // Add error
    field.classList.add('input-error');
    const errorDiv = document.createElement('div');
    errorDiv.className = 'error-message';
    errorDiv.textContent = message;
    field.parentElement.appendChild(errorDiv);
  }

  /**
   * Validate form data
   */
  function validateFormData(formData) {
    const errors = [];
    
    // Plot Size
    const plotSize = parseFloat(formData.get('plot_size'));
    if (isNaN(plotSize) || plotSize < CONFIG.MIN_PLOT_SIZE) {
      errors.push({
        field: 'cost-estimator-plot-size',
        message: `Plot size must be at least ${CONFIG.MIN_PLOT_SIZE} sq ft`
      });
    } else if (plotSize > CONFIG.MAX_PLOT_SIZE) {
      errors.push({
        field: 'cost-estimator-plot-size',
        message: `Plot size cannot exceed ${CONFIG.MAX_PLOT_SIZE} sq ft`
      });
    }
    
    // Package
    const packageRate = formData.get('package');
    if (!CONFIG.PACKAGE_RATES[packageRate]) {
      errors.push({
        field: 'cost-estimator-package-select',
        message: 'Please select a valid construction package'
      });
    }
    
    // Floors
    const floors = parseInt(formData.get('floors'));
    if (isNaN(floors) || floors < 1 || floors > 5) {
      errors.push({
        field: 'cost-estimator-floors',
        message: 'Please select a valid number of floors'
      });
    }
    
    // Location
    const location = formData.get('plot_location');
    if (!['urban', 'suburban', 'rural'].includes(location)) {
      errors.push({
        field: 'cost-estimator-plot-location',
        message: 'Please select a valid location'
      });
    }
    
    // Name
    const name = formData.get('name')?.trim();
    if (!name || name.length < 2) {
      errors.push({
        field: 'cost-estimator-name',
        message: 'Please enter your full name (at least 2 characters)'
      });
    } else if (name.length > 100) {
      errors.push({
        field: 'cost-estimator-name',
        message: 'Name is too long (max 100 characters)'
      });
    }
    
    // Email
    const email = formData.get('email')?.trim();
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email || !emailRegex.test(email)) {
      errors.push({
        field: 'cost-estimator-email',
        message: 'Please enter a valid email address'
      });
    }
    
    // Phone
    const phone = formData.get('phone')?.trim();
    const phoneRegex = /^[6-9]\d{9}$/;
    if (!phone || !phoneRegex.test(phone)) {
      errors.push({
        field: 'cost-estimator-phone',
        message: 'Please enter a valid 10-digit mobile number'
      });
    }
    
    // Lift
    const lift = formData.get('lift');
    if (!['yes', 'no'].includes(lift)) {
      errors.push({
        field: 'cost-estimator-lift',
        message: 'Please select lift option'
      });
    }
    
    return {
      isValid: errors.length === 0,
      errors: errors,
      data: {
        plotSize,
        packageRate: parseFloat(packageRate),
        floors,
        location,
        name,
        email,
        phone,
        lift
      }
    };
  }

  /**
   * Calculate estimate
   */
  function calculateEstimate(plotSize, packageRate, floors) {
    return Math.round(plotSize * packageRate * floors);
  }

  /**
   * Format currency
   */
  function formatCurrency(amount) {
    return new Intl.NumberFormat('en-IN', {
      style: 'currency',
      currency: 'INR',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount);
  }

  /**
   * Set loading state
   */
  function setLoadingState(isLoading) {
    const submitBtn = document.getElementById('calculate-estimate-btn');
    
    if (submitBtn) {
      submitBtn.disabled = isLoading;
      submitBtn.textContent = isLoading ? 'Calculating...' : 'Calculate Estimate';
    }
    
    if (elements.form) {
      const inputs = elements.form.querySelectorAll('input, select, button');
      inputs.forEach(input => {
        input.disabled = isLoading;
      });
    }
  }

  /**
   * Submit to backend
   */
  async function submitToBackend(formData, totalCost) {
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), CONFIG.TIMEOUT);
    
    try {
      formData.append('estimated_total', totalCost);
      formData.append('submission_time', new Date().toISOString());
      
      const response = await fetch(CONFIG.API_ENDPOINT, {
        method: 'POST',
        body: formData,
        signal: controller.signal,
        headers: {
          'X-Requested-With': 'XMLHttpRequest'
        }
      });
      
      clearTimeout(timeoutId);
      
      if (!response.ok) {
        throw new Error(`Server error: ${response.status}`);
      }
      
      const contentType = response.headers.get('content-type');
      let result;
      
      if (contentType && contentType.includes('application/json')) {
        result = await response.json();
      } else {
        result = await response.text();
      }
      
      return { success: true, data: result };
      
    } catch (error) {
      clearTimeout(timeoutId);
      
      if (error.name === 'AbortError') {
        return {
          success: false,
          error: 'Request timeout. Please check your connection and try again.'
        };
      }
      
      return {
        success: false,
        error: error.message || 'An error occurred. Please try again.'
      };
    }
  }

  /**
   * Show thank you modal
   */
  function showThankYouModal(totalCost) {
    if (elements.costResult) {
      const formattedCost = formatCurrency(totalCost);
      elements.costResult.innerHTML = `Your Estimated Project Cost: <span style="font-size:1.5rem;font-weight:bold;color:#388e3c;">${formattedCost}</span>`;
    }
    
    if (elements.thankYouModal) {
      elements.thankYouModal.style.display = 'flex';
      document.body.classList.add('modal-open');
      document.body.style.overflow = 'hidden';
    }
  }

  /**
   * Main form submission handler
   */
  async function submitEstimate(event) {
    event.preventDefault();
    
    const form = event.target;
    const formData = new FormData(form);
    
    clearValidationErrors(form);
    
    // Validate
    const validation = validateFormData(formData);
    
    if (!validation.isValid) {
      validation.errors.forEach(error => {
        showFieldError(error.field, error.message);
      });
      
      const firstErrorField = document.getElementById(validation.errors[0].field);
      if (firstErrorField) {
        firstErrorField.focus();
      }
      
      return;
    }
    
    // Calculate
    const totalCost = calculateEstimate(
      validation.data.plotSize,
      validation.data.packageRate,
      validation.data.floors
    );
    
    // Show loading
    setLoadingState(true);
    
    try {
      // Submit
      const result = await submitToBackend(formData, totalCost);
      
      if (result.success) {
        const responseText = typeof result.data === 'string' ? 
          result.data : JSON.stringify(result.data);
        
        if (responseText.toLowerCase().includes('success') || 
            (typeof result.data === 'object' && result.data.success)) {
          closeEstimatorPopup();
          showThankYouModal(totalCost);
        } else {
          throw new Error('Failed to save estimate. Please try again.');
        }
      } else {
        throw new Error(result.error);
      }
      
    } catch (error) {
      console.error('Submission error:', error);
      alert(error.message || 'An error occurred. Please try again.');
    } finally {
      setLoadingState(false);
    }
  }

  /**
   * Handle escape key
   */
  function handleEscKey(e) {
    if (e.key === 'Escape') {
      if (elements.popup && elements.popup.style.display === 'flex') {
        closeEstimatorPopup();
      }
      if (elements.thankYouModal && elements.thankYouModal.style.display === 'flex') {
        closeThankYouModal();
      }
    }
  }

  /**
   * Handle outside click
   */
  function handleOutsideClick(e, modal, closeFunction) {
    if (e.target === modal) {
      closeFunction();
    }
  }

  /**
   * Initialize all event listeners
   */
  function initializeEventListeners() {
    // Open button
    if (elements.openBtn) {
      elements.openBtn.addEventListener('click', openEstimatorPopup);
    }
    
    // Close popup button
    if (elements.closePopupBtn) {
      elements.closePopupBtn.addEventListener('click', closeEstimatorPopup);
    }
    
    // Close modal button
    if (elements.closeModalBtn) {
      elements.closeModalBtn.addEventListener('click', closeThankYouModal);
    }
    
    // Form submission
    if (elements.form) {
      elements.form.addEventListener('submit', submitEstimate);
    }
    
    // Outside click - popup
    if (elements.popup) {
      elements.popup.addEventListener('click', function(e) {
        handleOutsideClick(e, elements.popup, closeEstimatorPopup);
      });
    }
    
    // Outside click - thank you modal
    if (elements.thankYouModal) {
      elements.thankYouModal.addEventListener('click', function(e) {
        handleOutsideClick(e, elements.thankYouModal, closeThankYouModal);
      });
    }
    
    // Escape key
    document.addEventListener('keydown', handleEscKey);
  }

  /**
   * Initialize the cost estimator
   */
  function init() {
    cacheElements();
    initializeEventListeners();
    console.log('Cost Estimator initialized successfully');
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }

})();


    // ===========================================
    // Client Testimonial Carousel
    // ===========================================
    
    // First row carousel setup
    const firstRowTrack = document.querySelector('.first-row');
    const firstRowSlides = Array.from(document.querySelectorAll('.first-row .testimonial-card'));
    const firstRowPrevBtn = document.querySelector('.first-row-prev');
    const firstRowNextBtn = document.querySelector('.first-row-next');

    // Second row carousel setup
    const secondRowTrack = document.querySelector('.second-row');
    const secondRowSlides = Array.from(document.querySelectorAll('.second-row .testimonial-card'));
    const secondRowPrevBtn = document.querySelector('.second-row-prev');
    const secondRowNextBtn = document.querySelector('.second-row-next');

    // Configuration
    let slidesToShow = 3;
    let currentFirstRowIndex = 0;
    let currentSecondRowIndex = 0;
    let firstRowInterval;
    let secondRowInterval;
    const autoplayDelay = 3000; // 3 seconds

    // Clone slides for infinite loop effect
    function cloneSlides() {
        // Remove any existing clones first
        document.querySelectorAll('.clone-slide').forEach(clone => clone.remove());

        if (firstRowSlides.length > 0) {
            // Clone first few slides and append to the end
            firstRowSlides.slice(0, slidesToShow).forEach(slide => {
                const clone = slide.cloneNode(true);
                clone.classList.add('clone-slide');
                firstRowTrack.appendChild(clone);
            });
        }
        if (secondRowSlides.length > 0) {
            secondRowSlides.slice(0, slidesToShow).forEach(slide => {
                const clone = slide.cloneNode(true);
                clone.classList.add('clone-slide');
                secondRowTrack.appendChild(clone);
            });
        }
    }

    // Initialize layout and positioning
    function updateLayout() {
        // Update slidesToShow based on screen width
        if (window.innerWidth < 768) {
            slidesToShow = 1;
        } else if (window.innerWidth < 992) {
            slidesToShow = 2;
        } else {
            slidesToShow = 3;
        }

        // Update slides width and clone slides
        cloneSlides();

        const allFirstRowSlides = Array.from(document.querySelectorAll('.first-row .testimonial-card'));
        const allSecondRowSlides = Array.from(document.querySelectorAll('.second-row .testimonial-card'));

        allFirstRowSlides.forEach(slide => {
            slide.style.minWidth = `${100 / slidesToShow}%`;
        });
        allSecondRowSlides.forEach(slide => {
            slide.style.minWidth = `${100 / slidesToShow}%`;
        });

        // Reset positions
        currentFirstRowIndex = 0;
        currentSecondRowIndex = 0;
        updateFirstRowPosition(false);
        updateSecondRowPosition(false);
    }

    // Update first row position
    function updateFirstRowPosition(animate = true) {
        if (animate) {
            firstRowTrack.style.transition = 'transform 0.5s ease';
        } else {
            firstRowTrack.style.transition = 'none';
        }
        const translateX = `-${currentFirstRowIndex * (100 / slidesToShow)}%`;
        firstRowTrack.style.transform = `translateX(${translateX})`;
    }

    // Update second row position
    function updateSecondRowPosition(animate = true) {
        if (animate) {
            secondRowTrack.style.transition = 'transform 0.5s ease';
        } else {
            secondRowTrack.style.transition = 'none';
        }
        const translateX = `-${currentSecondRowIndex * (100 / slidesToShow)}%`;
        secondRowTrack.style.transform = `translateX(${translateX})`;
    }

    // First row navigation functions
    function goToFirstRowSlide(index) {
        const totalSlides = firstRowSlides.length;
        currentFirstRowIndex = index;
        updateFirstRowPosition();

        // If it's the clone slide, snap back to real first slide
        if (index === totalSlides) {
            setTimeout(() => {
                firstRowTrack.style.transition = 'none';
                currentFirstRowIndex = 0;
                updateFirstRowPosition(false);
            }, 500);
        }
        // If it's going backward past the first slide
        if (index < 0) {
            setTimeout(() => {
                firstRowTrack.style.transition = 'none';
                currentFirstRowIndex = totalSlides - 1;
                updateFirstRowPosition(false);
            }, 500);
        }
    }

    function nextFirstRow() {
        goToFirstRowSlide(currentFirstRowIndex + 1);
    }

    function prevFirstRow() {
        goToFirstRowSlide(currentFirstRowIndex - 1);
    }

    // Second row navigation functions
    function goToSecondRowSlide(index) {
        const totalSlides = secondRowSlides.length;
        currentSecondRowIndex = index;
        updateSecondRowPosition();

        // If it's the clone slide, snap back to real first slide
        if (index === totalSlides) {
            setTimeout(() => {
                secondRowTrack.style.transition = 'none';
                currentSecondRowIndex = 0;
                updateSecondRowPosition(false);
            }, 500);
        }
        // If it's going backward past the first slide
        if (index < 0) {
            setTimeout(() => {
                secondRowTrack.style.transition = 'none';
                currentSecondRowIndex = totalSlides - 1;
                updateSecondRowPosition(false);
            }, 500);
        }
    }

    function nextSecondRow() {
        goToSecondRowSlide(currentSecondRowIndex + 1);
    }

    function prevSecondRow() {
        goToSecondRowSlide(currentSecondRowIndex - 1);
    }

    // Autoplay functions
    function startAutoplay() {
        stopAutoplay();
        firstRowInterval = setInterval(nextFirstRow, autoplayDelay);
        secondRowInterval = setInterval(nextSecondRow, autoplayDelay + 2000);
    }

    function stopAutoplay() {
        clearInterval(firstRowInterval);
        clearInterval(secondRowInterval);
    }

    // Initialize
    updateLayout();
    startAutoplay();

    // Event listeners
    if (firstRowPrevBtn) firstRowPrevBtn.addEventListener('click', () => {
        prevFirstRow();
        stopAutoplay();
        startAutoplay();
    });
    if (firstRowNextBtn) firstRowNextBtn.addEventListener('click', () => {
        nextFirstRow();
        stopAutoplay();
        startAutoplay();
    });
    if (secondRowPrevBtn) secondRowPrevBtn.addEventListener('click', () => {
        prevSecondRow();
        stopAutoplay();
        startAutoplay();
    });
    if (secondRowNextBtn) secondRowNextBtn.addEventListener('click', () => {
        nextSecondRow();
        stopAutoplay();
        startAutoplay();
    });

    // Pause autoplay on hover
    if (firstRowTrack) firstRowTrack.addEventListener('mouseenter', stopAutoplay);
    if (firstRowTrack) firstRowTrack.addEventListener('mouseleave', startAutoplay);
    if (secondRowTrack) secondRowTrack.addEventListener('mouseenter', stopAutoplay);
    if (secondRowTrack) secondRowTrack.addEventListener('mouseleave', startAutoplay);

    // Handle window resize
    window.addEventListener('resize', () => {
        clearTimeout(window.resizedFinished);
        window.resizedFinished = setTimeout(updateLayout, 250);
    });

    // Handle visibility change
    document.addEventListener('visibilitychange', () => {
        if (document.visibilityState === 'hidden') {
            stopAutoplay();
        } else {
            startAutoplay();
        }
    });
});
</script>
</body>
</html>